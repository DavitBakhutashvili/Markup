{"ast":null,"code":"import axios from 'axios';\nimport { login, refreshTokens, sendTextToServer } from '../services/useApiServices';\nclass MyClass {\n  constructor() {\n    this.start = async () => {\n      // Login and get the initial tokens\n      await login.call(this);\n      while (this.currentPos < this.text.length) {\n        const endPos = this.calculateEndPos();\n        const sentence = this.text.substring(this.currentPos, endPos);\n        this.currentPos = endPos;\n\n        // send sentence to the server\n        const result = await sendTextToServer.call(this, sentence, this.token);\n\n        // check if the onresult function exists and call it\n        if (typeof this.onresult === 'function') {\n          this.onresult(result);\n        }\n      }\n    };\n    this.calculateEndPos = () => {\n      const endPosLimit = Math.min(this.currentPos + 230, this.text.length);\n      for (let i = this.currentPos + 150; i <= endPosLimit; i++) {\n        if (['.', '!', '?', ';', ','].includes(this.text[i])) {\n          return i + 1;\n        }\n      }\n      return endPosLimit;\n    };\n    this.text = '';\n    this.onresult = null;\n    this.currentPos = 0;\n    this.token = '';\n    this.refreshToken = '';\n  }\n}\nexport default MyClass;","map":{"version":3,"names":["axios","login","refreshTokens","sendTextToServer","MyClass","constructor","start","call","currentPos","text","length","endPos","calculateEndPos","sentence","substring","result","token","onresult","endPosLimit","Math","min","i","includes","refreshToken"],"sources":["/Users/davitBakhutashvili/MyProjects/Markup/markup-app/src/helpers/myClass.js"],"sourcesContent":["import axios from 'axios';\nimport {\n  login,\n  refreshTokens,\n  sendTextToServer,\n} from '../services/useApiServices';\n\nclass MyClass {\n  constructor() {\n    this.text = '';\n    this.onresult = null;\n    this.currentPos = 0;\n    this.token = '';\n    this.refreshToken = '';\n  }\n\n  start = async () => {\n    // Login and get the initial tokens\n    await login.call(this);\n\n    while (this.currentPos < this.text.length) {\n      const endPos = this.calculateEndPos();\n      const sentence = this.text.substring(this.currentPos, endPos);\n      this.currentPos = endPos;\n\n      // send sentence to the server\n      const result = await sendTextToServer.call(this, sentence, this.token);\n\n      // check if the onresult function exists and call it\n      if (typeof this.onresult === 'function') {\n        this.onresult(result);\n      }\n    }\n  };\n\n  calculateEndPos = () => {\n    const endPosLimit = Math.min(this.currentPos + 230, this.text.length);\n    for (let i = this.currentPos + 150; i <= endPosLimit; i++) {\n      if (['.', '!', '?', ';', ','].includes(this.text[i])) {\n        return i + 1;\n      }\n    }\n    return endPosLimit;\n  };\n}\n\nexport default MyClass;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,KAAK,EACLC,aAAa,EACbC,gBAAgB,QACX,4BAA4B;AAEnC,MAAMC,OAAO,CAAC;EACZC,WAAWA,CAAA,EAAG;IAAA,KAQdC,KAAK,GAAG,YAAY;MAClB;MACA,MAAML,KAAK,CAACM,IAAI,CAAC,IAAI,CAAC;MAEtB,OAAO,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,IAAI,CAACC,MAAM,EAAE;QACzC,MAAMC,MAAM,GAAG,IAAI,CAACC,eAAe,CAAC,CAAC;QACrC,MAAMC,QAAQ,GAAG,IAAI,CAACJ,IAAI,CAACK,SAAS,CAAC,IAAI,CAACN,UAAU,EAAEG,MAAM,CAAC;QAC7D,IAAI,CAACH,UAAU,GAAGG,MAAM;;QAExB;QACA,MAAMI,MAAM,GAAG,MAAMZ,gBAAgB,CAACI,IAAI,CAAC,IAAI,EAAEM,QAAQ,EAAE,IAAI,CAACG,KAAK,CAAC;;QAEtE;QACA,IAAI,OAAO,IAAI,CAACC,QAAQ,KAAK,UAAU,EAAE;UACvC,IAAI,CAACA,QAAQ,CAACF,MAAM,CAAC;QACvB;MACF;IACF,CAAC;IAAA,KAEDH,eAAe,GAAG,MAAM;MACtB,MAAMM,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACZ,UAAU,GAAG,GAAG,EAAE,IAAI,CAACC,IAAI,CAACC,MAAM,CAAC;MACrE,KAAK,IAAIW,CAAC,GAAG,IAAI,CAACb,UAAU,GAAG,GAAG,EAAEa,CAAC,IAAIH,WAAW,EAAEG,CAAC,EAAE,EAAE;QACzD,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACC,QAAQ,CAAC,IAAI,CAACb,IAAI,CAACY,CAAC,CAAC,CAAC,EAAE;UACpD,OAAOA,CAAC,GAAG,CAAC;QACd;MACF;MACA,OAAOH,WAAW;IACpB,CAAC;IAlCC,IAAI,CAACT,IAAI,GAAG,EAAE;IACd,IAAI,CAACQ,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACT,UAAU,GAAG,CAAC;IACnB,IAAI,CAACQ,KAAK,GAAG,EAAE;IACf,IAAI,CAACO,YAAY,GAAG,EAAE;EACxB;AA8BF;AAEA,eAAenB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}